@model BMS_dotnet_WebApplication.Models.MagazineVM.RemoveMagazineVM
@{
    ViewData["Title"] = "RemoveContent";
}

<h1>Remove Content</h1>

@using (Html.BeginForm("RemoveContent", "Magazine", FormMethod.Post))
{
    <div class="form-group">
        Magazine Name: @Model.Name
    </div>
    <div class="form-group">
        @foreach (var content in Model.Contents.OrderByDescending(m => m.ContentId))
        {
            <div class="form-group">
                Category: @content.Category.Name
                Content Heading: @content.Heading
                Delete <input type="checkbox" name="@content.ContentId" />

            </div>
        }
        @Html.HiddenFor(m => m.RemoveContentId)
    </div>
    <button type="submit" id="btnSubmit" class="btn btn-primary">Remove Selected</button>
}


@section Scripts
{
    <script>
        var removeContent = [];
        $('input[type="checkbox"]').click(function() {
            if ($(this).prop("checked") == true) {
                removeContent.push(this.name);
            } else if ($(this).prop("checked") == false) {

                var index = removeContent.indexOf(this.name);
                if (index > -1) {
                    removeContent.splice(index, 1);
                }
            }
            console.log(removeContent.toString());
            $("#RemoveContentId").val(removeContent.toString());
        });
           
       
    </script>
}
